<html>
<head>
  <link href="../imp.css" rel="stylesheet">
  <title>Space Geometry</title>
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <!--<script id="MathJax-script" async src="../MathJax/es5/tex-mml-chtml.js">-->
  <script id="MathJax-script" async
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
  </script>
</head>
<body>
  <h3>Rumlige objekter:</h3>
  Linjen:
  <br><br>
  <div id="math-container1"></div> 
  <br><br>
  Planen:
  <br><br>
  <div id="math-container2"></div> 
  <br><br>
  <div id="math-container3"></div>
  <br><br>
  Cirklen:
  <br><br>
  <div id="math-container4"></div>
  <br><br>
  <button onclick="reset()">Nye</button>
  <div id="result"></div>
  <script>
    class Vector{
      constructor(x){
        this.x=x
      }
      add(v){
        return new Vector([this.x[0]+v.x[0],this.x[1]+v.x[1],this.x[2]+v.x[2]])
      }
      mult(k){
        return new Vector([this.x[0]*k,this.x[1]*k,this.x[2]*k])
      }
      sub(v){
        return this.add(v.mult(-1))
      }
      dot(v){
        let S=0
        for(let i=0;i<v.x.length;i++){
          S+=this.x[i]*v.x[i]
        }
        return S
      }
      cross(v){
        return new Vector([this.x[1]*v.x[2]-this.x[2]*v.x[1],this.x[2]*v.x[0]-this.x[0]*v.x[2],this.x[0]*v.x[1]-this.x[1]*v.x[0]])
      }
      str(){
        return `\\begin{pmatrix}
     ${this.x[0]} \\\\
     ${this.x[1]} \\\\
     ${this.x[2]}
   \\end{pmatrix}`;
      }
    }
    function reset(){
        a = new Vector([Math.round(20*Math.random())-10,Math.round(20*Math.random())-10,Math.round(20*Math.random())-10]); // Generate a random number between 0 and 1
        b = new Vector([Math.round(20*Math.random())-10,Math.round(20*Math.random())-10,Math.round(20*Math.random())-10]);
        c = new Vector([Math.round(20*Math.random())-10,Math.round(20*Math.random())-10,Math.round(20*Math.random())-10]);
        math = `\\( p(s,t) = ${a.str()}s+${b.str()}t+${c.str()} \\)`;
        document.getElementById('math-container2').innerHTML = math;
        n = a.cross(b)
        math = `\\( 0 = ${n.x[0]}x${(n.x[1]<0?"":"+")}${n.x[1]}y${(n.x[2]<0?"":"+")}${n.x[2]}z${(-n.dot(c)<0?"":"+")}${-n.dot(c)} \\)`;
        document.getElementById('math-container3').innerHTML = math;
        a= new Vector([Math.round(20*Math.random())-10,Math.round(20*Math.random())-10,Math.round(20*Math.random())-10]);
        b = new Vector([Math.round(20*Math.random())-10,Math.round(20*Math.random())-10,Math.round(20*Math.random())-10]);
        math = `\\( s(t) = ${a.str()}t+${b.str()} \\)`;
        document.getElementById('math-container1').innerHTML = math;
        a= new Vector([Math.round(20*Math.random())-10,Math.round(20*Math.random())-10,Math.round(20*Math.random())-10]);
        r=Math.ceil(10*Math.random());
        math = `\\( ${r}^2 = (x${a.x[0]<0?"+":"-"}${Math.abs(a.x[0])})^2+(y${a.x[0]<0?"+":"-"}${Math.abs(a.x[1])})^2+(z${a.x[0]<0?"+":"-"}${Math.abs(a.x[2])})^2 \\)`;
        document.getElementById('math-container4').innerHTML = math;
                
        MathJax.typesetPromise(); // Render MathJax
    }
    reset()
  </script>
</body>
